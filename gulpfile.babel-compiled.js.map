{"version":3,"sources":["gulpfile.babel.js"],"names":[],"mappings":"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","file":"gulpfile.babel-compiled.js","sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    const gulp = require('gulp');\r\n    const args = require('yargs').argv;\r\n    const config = require('./gulp.config')();\r\n    const del = require('del');\r\n    const Server = require('karma').Server;\r\n    const csswring = require('csswring');\r\n    const autoprefixer = require('autoprefixer');\r\n\r\n    const $ = require('gulp-load-plugins')({lazy: true});\r\n\r\n    gulp.task('heroku:dev', ['styles', 'compile', 'templates', 'libraries', 'fonts']);\r\n\r\n    gulp.task('test', ['templates'], function(done) {\r\n        new Server({\r\n            configFile: __dirname + '/karma.conf.js',\r\n            singleRun: true\r\n        }, done).start();\r\n    });\r\n\r\n    gulp.task('default', ['styles', 'compile', 'templates', 'libraries', 'inject', 'fonts', 'nodemon'], function() {\r\n        gulp.src('')\r\n            .pipe($.open({app: 'chrome', uri: 'https://localhost:3000'}));\r\n    });\r\n\r\n    gulp.task('inject', function () {\r\n        var target = gulp.src('./src/index.html');\r\n        // It's not necessary to read the files (will speed up things), we're only after their paths:\r\n        var sources = gulp.src(['./public/js/**/*.js', './public/styles/**/*.css'], {read: false});\r\n\r\n        return target.pipe($.inject(sources), {relative: true})\r\n            .pipe(gulp.dest('./public'));\r\n    });\r\n\r\n    gulp.task('templates', function() {\r\n        gulp.src(['./src/**/*.html'])\r\n            .pipe($.html2js({\r\n                outputModuleName: 'overflow.templates',\r\n                useStrict: true\r\n            }))\r\n            .pipe($.concat('templates.js'))\r\n            .pipe(gulp.dest('./public/js'))\r\n    });\r\n\r\n    gulp.task('compile', ['clean'], function() {\r\n        'use strict';\r\n\r\n        return gulp\r\n            .src(config.source)\r\n            .pipe($.ngAnnotate())\r\n            .pipe(gulp.dest('./public/js'));\r\n    });\r\n\r\n    gulp.task('fonts', function() {\r\n        return gulp\r\n            .src(config.fonts)\r\n            .pipe(gulp.dest('./public/fonts'));\r\n    });\r\n\r\n    gulp.task('nodemon', function() {\r\n        $.nodemon({\r\n            script: './server/server.js',\r\n            ext: 'js html less',\r\n            ignore: ['node_modules/**/*.js', 'bower_components/**/*.js', 'public/js/**/*.js'],\r\n            env: {'NODE_ENV': 'development'},\r\n            tasks: ['styles', 'compile', 'templates', 'libraries']\r\n        });\r\n    });\r\n\r\n    gulp.task('clean', function() {\r\n        del('./public/js/*.*').then(paths => {\r\n            console.log('Deleted files and folders:\\n', paths.join('\\n'));\r\n        });\r\n\r\n        del('./public/styles/*.*').then(paths => {\r\n            console.log('Deleted files and folders:\\n', paths.join('\\n'));\r\n        });\r\n    });\r\n\r\n    gulp.task('libraries', function() {\r\n        return gulp.src(config.libraries)\r\n            .pipe($.concat('lib.js'))\r\n            .pipe(gulp.dest('./public/js'));\r\n    });\r\n\r\n    gulp.task('vet', function() {\r\n        return gulp\r\n            .src(config.source)\r\n            .pipe($.if(args.verbose, $.print()))\r\n            .pipe($.jscs())\r\n            .pipe($.jshint())\r\n            .pipe($.jshint.reporter('jshint-stylish', {verbose: true}))\r\n            .pipe($.jshint.reporter('fail'));\r\n    });\r\n\r\n\r\n    gulp.task('styles', ['style-libraries'], function() {\r\n        var processors = [\r\n            autoprefixer({browsers: ['last 2 version', '> 5%']}),\r\n            csswring\r\n        ];\r\n\r\n        return gulp\r\n            .src(config.less)\r\n            .pipe($.plumber())\r\n            .pipe($.less())\r\n            .pipe($.concat('overflow.css'))\r\n            .pipe($.postcss(processors))\r\n            .pipe(gulp.dest(config.styleDestination));\r\n    });\r\n\r\n    gulp.task('style-libraries', function() {\r\n        return gulp.src(config.styleLibraries)\r\n            .pipe(gulp.dest(config.styleDestination));\r\n    });\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n\r\n    function log(message) {\r\n        if (typeof(message) === 'object') {\r\n            for (var item in message) {\r\n                if (message.hasOwnProperty(item)) {\r\n                    $.util.log($.util.colors.blue(message[item]));\r\n                }\r\n            }\r\n        } else {\r\n            $.util.log($.util.colors.blue(message));\r\n        }\r\n    }\r\n})();"]}